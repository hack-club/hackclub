---
name: "Fibonacci"
description: "A Fibonacci Graph Generator!"
author: "@iamsid47"
img: https://cloud-97au21fhb.vercel.app/0fibonacci-test2.png
---

Hi Everyone! In this workshop, we will walk through how to build **a Fibonacci graph generator!**

Do you all know about the Fibonacci Sequence ...?

If you don't ..!<br> No worries, the following paragraph explains the same.

### What is the Fibonacci Sequence?

The Fibonacci Sequence is a peculiar series of numbers from classical mathematics that has found applications in advanced mathematics, nature, statistics, computer science, and Agile Development.

The Fibonacci sequence is a series of numbers where a number is the addition of the last two numbers, starting with 0, and 1.
The Fibonacci Sequence is : 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55… and so on.

As we are gonna generate a graph and then a curve representing the workflow of our Fibonacci graph generator. You should know a bit about **the Golden Spiral** and its relationship with Fibonacci numbers. The Wikipedia article linked [here]() provides a good start. If you want to explore more, visit the Golden Curve page on the website mathcurve.com as well.

Now you know that the Golden Spiral can be generated by drawing successive Fibonacci golden rectangles of dimension
_fn_ − 1 ∗ _fn_

So, we are going to create a generator for this graph using Python!

You can see this project live on Repl.it by clicking [this](https://repl.it/@iamsid47/FibonacciV2) link.

## Let's Get Started!

![Create a repl](https://cloud-dqnxiplyi.vercel.app/0fibo-repl.png)

First, create a repl on [Repl.it](https://repl.it) and choose the language as Python.

Now we're all set to start coding..!

## Importing Modules:

<!--First things first..??-->

First thing first, We'll import the following modules which are required for this project.

```python
  import turtle
  import math
```

We'll use the turtle module for displaying the generated graph and the math module for generating arc or The spiral.

## Setting up a display screen:

Now, as we have imported the modules. We can set up a screen to display our Fibonacci graph generator.

For that purpose, we have to first create an object for the turtle module mentioned above so that we can access the methods present in the module.

In this case, we create an object named "**wn**" which will set up a window/screen for us. And using this object we can invoke different methods predefined in the module.

The code given below will create a screen with a white background that has a width of 1000px and a height of 800px.

```python
  wn = turtle.Screen()
  wn.setup(1000,800)
  wn.bgcolor("white")
```

We can change the size of window using **setup()** method and background color using **bgcolor()** method.

## Generating a series of rectangles:

As we have set up a window for our graph, we can now make an object which will kinda work like a pen and create a series of rectangles on the window.

For the sake of simplicity, I'm creating a turtle-shaped blue-colored object which will move around the screen and generate a series of rectangles. You can choose the shape and color of your choice. The pensize() method specifies the width of the outline.

```python
  myTur = turtle.Turtle()
  # sets turtle to x = 0 and y = 0 on screen, which displays the turtle at the centre of screen.
  myTur.pensize(5)
  myTur.color("Blue")
  myTur.shape("turtle")
```

The above code just creates a stable turtle on the window. To display rectangles depicting the Fibonacci series, we'll have to move the turtle.

For that purpose, let's create the main function or you can say a driver program, which will calculate the value of the Fibonacci series. and move the turtle accordingly.

```python
def main():
    valueOne = 0
    valueTwo = 1
    fib = 1
    myTur.fillcolor("black")
    myTur.begin_fill()
    for i in range(8):
        myTur.right(90)
        drawSq(fib*20)
        fib = valueOne + valueTwo
        valueOne = valueTwo
        valueTwo = fib
```

The **begin_fill()** method is used to fill the rectangles with the color passed as an argument to the **fillcolor()** method.

Let's try to understand the above code. The main function calculates the value of `fib` and sends it to `drawSq` function. It also creates a beginning point for filling the graph with the black color. The argument passed on to the **drawSq()** function is the length of rectangles we want to generate. As the loop in the above function is gonna repeat 8 times, it'll generate 8 rectangles.

**Note:** We've multiplied the fib with 20 so that we'll get a magnified graph.

Here, We won't get a proper series of the rectangle until and unless we declare and define a function named **drawSq**.

Following is the drawSq() function which will create a proper rectangle each time it's invoked by the main function.
We use methods like **foward()**, **right()** and **left()** to change the direction of objects and draw different shapes.

```python
def drawSq(sides):
    for n in range(6):
        myTur.forward(sides)
        myTur.left(90)
```

If you run the above code, you get a figure which displays series of rectangles, one embedded inside the other.

<!--A figure displaying series of rectangles-->

Kudos to you..! You have completed the first section of the project by generating a series of rectangles.

![Golden Triangles](https://cloud-97au21fhb.vercel.app/2fibonacci-test.png)

Now, Let's write some functions for creating the Golden Spiral which we discussed earlier.

## Generating Golden Spiral:

In the continuation of the above code, we can now plot the golden spiral on rectangles. The idea here is to connect successive vertices of the rectangles using circular arcs to generate a spiral. The trick here is to identify the correct vertices of the rectangles which can be used to generate the arcs as the origin.

First, let's create another object for drawing the spiral.

Following code creates an object myturtle which traces the entire path of spiral with red color:

```python
myTurtle = turtle.Turtle()
myTurtle.pensize(3)
myTurtle.color("red")
```

Here is a new function, which creates a spiral.

```python
def sprial():

    r = 20
    angle = 90
    myTurtle.right(90)
    myTurtle.penup()
    myTurtle.setpos(0,0)
    myTurtle.pendown()
    # draw fibonacci spiral
    arc(20, angle)
    arc(20, angle)
    arc(40, angle)
    arc(60, angle)
    arc(100, angle)
    arc(160,angle)
    arc(260,angle)
    arc(420,angle)
```

As we've magnified the graph by 20. We've to set the radius for the curve to be generated within the first two rectangles to 20. Later, We'll keep on increasing the size of the radius by a factor of 20 to maintain the uniformity of the curves. The starting position of the curve is set to (0, 0) which aligns it with the starting point of the first rectangle. Then we've to just pass on the radius and the angle as arguments to the function **arc**.

If you're confused about how the value for the radius of the curve is been calculated.

Here's an explanation for that:<br>
We're simply multiplying 20 with the numbers that are present in the Fibonacci sequence:<br>
For example:<br>

```
- **No.s in Fibonacci Series * 20 = radius**
-     1  *  20 = 20
-     1  *  20 = 20
-     2  *  20 = 40
-     3  *  20 = 60
-     5  *  20 = 100  ....and so on.
```

Now, Let's declare and define an arc function that we invoked in the previous code. This is the function that sets up the starting position for drawing the arc.

```python

def arc(r, angle):

    arc_length = 2 * math.pi * r * abs(angle) / 360
    n = int(arc_length / 4) + 1
    step_length = arc_length / n
    step_angle = float(angle) / n
    # Before starting making a slight left turn.
    myTurtle.left(step_angle/2)
    arcLine(n, step_length, step_angle)
    myTurtle.right(step_angle/2)

```

The function uses the radius and angle passed on as an argument to it. The **arc_length** variable calculates the length of the arc that is to be drawn inside each rectangle. The arc function also makes sure that the direction of the object (myTurtle) is to the left before a new arc is generated. The **step_length** variable determines the length by which the arc is to be incremented each time. Similarly, the **step_angle** increments the angle of the arc.

Now, we've to define the **arcline** function which is called in the above code. The arcline function makes sure that the curves or arcs are drawn perfectly. This is the function that is actually responsible for the creation of arcs.

```python
def arcLine(n, length, angle):
  # Draws n line segments.
    for i in range(n):
        myTurtle.forward(length)
        myTurtle.left(angle)
```

And here is the golden curve it generates!

![Golden Curve with rectangles](https://cloud-97au21fhb.vercel.app/0fibonacci-test2.png

![Without Rectangles](https://cloud-97au21fhb.vercel.app/1golden_curve_alone.png)

## Invoking the functions:

Now, to make this entire project functional and to generate the Fibonacci graph, you have to add the following lines of code, which will invoke all the functions mentioned above.

**Note:** The second line **myTur.end_fill()** will fill the blue rectangles with black color and the last line calls the predefined function **exitonclick()** which terminates the program whenever the user clicks on the display screen.

```python
# main program loop
main()
myTur.end_fill()
sprial()
wn.exitonclick()

```

## Voila!

![You did it](https://media.giphy.com/media/d2Z9QYzA2aidiWn6/giphy.gif)

You just created history's most amazing graph generation application for mathematics!

## Hack It ;)

You can easily customize this generator to something other. For example, tweak the logical formula a bit.

Instead of printing the whole graph, you can just print the number on the **n\***th\* place.

It is also possible to the Fibonacci graph in a backward direction. Meaning that we start from infinite and then head over to one and finally zero. This is a bit hypothetical but it would be pretty cool to get answers from the generator like **infinite + x/n**.

## Demos

In this [version](https://repl.it/@iamsid47/fibo-demo-1), you can first specify the number of elements (**nth value**) and the output will generate the Golden Spiral till that value only.

If you just wanted to generate the sequence instead of generating the Golden Spiral, you can refer to [this](https://repl.it/@iamsid47/fibo-demo2) version.

Ever wanted to count the number of Prime numbers in the Fibonacci Sequence? Here's a [demo](https://repl.it/@iamsid47/fibo-demo3) which can fetch that for you!

Happy Hacking ♥
